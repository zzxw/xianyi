<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.tencent.wxcloudrun.dao.PayMapper">

    <resultMap id="OrderMapper" type="com.tencent.wxcloudrun.model.PayResult">
        <id property="transactionID" column="transactionID"/>
        <result property="appid" column="appid"/>
        <result property="bankType" column="bankType"/>
        <result property="cashFee" column="cashFee"/>
        <result property="feeType" column="feeType"/>
        <result property="isSubscribe" column="isSubscribe"/>
        <result property="mchID" column="mchID"/>
        <result property="nonceStr" column="nonceStr"/>
        <result property="openid" column="openid"/>
        <result property="outTradeNo" column="outTradeNo"/>
        <result property="subAppid" column="subAppid"/>
        <result property="subIsSubscribe" column="subIsSubscribe"/>
        <result property="subMchID" column="subMchID"/>
        <result property="subOpenid" column="subOpenid"/>
        <result property="timeEnd" column="timeEnd"/>
        <result property="totalFee" column="totalFee"/>
        <result property="tradeType" column="tradeType"/>
<!--        <result property="updatedAt" column="updatedAt" javaType="java.time.LocalDateTime"  />-->
    </resultMap>


    <update id="updateResult"></update>
    <select id="getResult" resultType="com.tencent.wxcloudrun.model.PayResult"
            parameterType="java.lang.String">
        SELECT `appid`,`bankType`, `transactionID`,`cashFee`,`feeType`,`isSubscribe`,`mchID`,`nonceStr`,`openid`,`outTradeNo`,`subAppid`,`subIsSubscribe`,`subMchID`,`subOpenid`,`timeEnd`,`totalFee`,`tradeType`
        FROM PayResult
        WHERE transactionID = #{transactionID}
    </select>


    <insert id="createPayResult">
        INSERT INTO `PayResult`(`appid`,`bankType`, `transactionID`,`cashFee`,`feeType`,`isSubscribe`,`mchID`,`nonceStr`,
                                `openid`,`outTradeNo`,`subAppid`,`subIsSubscribe`,`subMchID`,`subOpenid`,`timeEnd`,`totalFee`,`tradeType`)
        VALUE(#{appid},#{bankType}, #{transactionID},#{cashFee},#{feeType},#{isSubscribe},#{mchID},#{nonceStr},#{openid}
            ,#{outTradeNo},#{subAppid},#{subIsSubscribe},#{subMchID},#{subOpenid},#{timeEnd},#{totalFee},#{tradeType})
    </insert>

</mapper>
